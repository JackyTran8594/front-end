"use strict";(self.webpackChunktask_management=self.webpackChunktask_management||[]).push([[230],{2230:(N,Z,a)=>{a.r(Z),a.d(Z,{RoleApplicationModule:()=>le});var p=a(9808),D=a(520),v=a(9923),T=a(9201),r=a(2382),h=a(9826),u=a(5861),e=a(5e3),_=a(8072),f=a(6843),m=a(5278),x=a(6042),P=a(2683),R=a(2643),S=a(6114),y=a(1894),w=a(5482);function U(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"label",11),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw().$implicit;return e.KtG(s.isChecked=o)})("ngModelChange",function(o){e.CHM(t);const s=e.oxw().index,d=e.oxw(2);return e.KtG(d.isChecked(o,s))}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit;e.Q6J("ngModel",t.isChecked),e.xp6(1),e.Oqu(t.name)}}function F(i,l){if(1&i&&(e.TgZ(0,"div",9),e.YNc(1,U,2,2,"label",10),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().index,o=e.oxw();e.Q6J("hidden",t.parentCode!==o.listParent[n].code),e.xp6(1),e.Q6J("ngIf",t.parentCode===o.listParent[n].code)}}function Q(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",3)(1,"nz-collapse")(2,"nz-collapse-panel",4)(3,"div",5)(4,"label",6),e.NdJ("ngModelChange",function(o){const d=e.CHM(t).index,c=e.oxw();return e.KtG(c.checkedAll(d,o))}),e._uU(5," Checked / Unchecked"),e.qZA()(),e.TgZ(6,"div",7),e.YNc(7,F,2,2,"div",8),e.qZA()()()()}if(2&i){const t=l.$implicit,n=e.oxw();e.xp6(2),e.s9C("nzHeader",t.code),e.xp6(2),e.Q6J("ngModel",n.checkedBoxAll),e.xp6(3),e.Q6J("ngForOf",n.listChild)}}let E=(()=>{class i{constructor(t,n,o,s){this.permissionData=t,this.rolePerData=n,this.route=o,this.notifyService=s,this.listParent=[],this.listChild=[],this.listId=[],this.pageNumber=1,this.pageSize=999,this.totalElements=0,this.checkedBoxAll=!1,this.isClicked=!1,this.modalOptions={nzDuration:2e3}}ngOnInit(){this.getPermission()}getIdRole(){let t=this.route.snapshot.paramMap.get("id");return this.txtRolePer=`roleId.eq.${t},`,console.log(t),parseInt(t)}getPermission(){var t=this;return(0,u.Z)(function*(){var n;t.getRolePer(),t.permissionData.search(t.pageNumber,t.pageSize,t.txtSearch).subscribe({next:(n=(0,u.Z)(function*(o){console.log(o),t.listData=o.pagingData.content,t.getParentCode(),t.getChildCode(),console.log(t.listData),t.totalElements=o.pagingData.totalElements,t.totalPages=o.pagingData.totalPages,yield t.rolePerChecked()}),function(s){return n.apply(this,arguments)}),error:n=>{console.log(n)}})})()}getRolePer(){this.getIdRole(),this.rolePerData.search(this.pageNumber,this.pageSize,this.txtRolePer).subscribe({next:t=>{this.listRolePer=t.pagingData.content;for(let n=0;n<this.listRolePer.length;n++)this.listId.push(t.pagingData.content[n].permissionId);console.log(this.listRolePer),console.log(this.listId),this.totalElements=t.pagingData.totalElements,this.totalPages=t.pagingData.totalPages},error:t=>{console.log(t)}})}onCreate(){var t=this;let n=[],o=[],s=[];for(let c=0;c<this.listId.length;c++){let g={id:0,roleId:0,permissionId:0};g.roleId=this.getIdRole(),g.permissionId=this.listId[c];for(let C=0;C<this.listRolePer.length;C++)this.listRolePer[C].permissionId===g.permissionId&&(g.id=this.listRolePer[C].id);n.push(g)}function d(c,g){return c.filter(C=>!g.some(se=>C.id===se.id))}o=[...d(n,this.listRolePer),...d(this.listRolePer,n)];for(let c=0;c<o.length;c++)s.push(o[c].id);var c;this.rolePerData.save(n).subscribe({next:c=>{c&&console.log(c)},error:c=>{console.log(c)},complete:()=>{console.log("done")}}),this.rolePerData.deleteSelectedId(s).subscribe({next:(c=(0,u.Z)(function*(g){g&&(yield t.notify())}),function(C){return c.apply(this,arguments)}),error:c=>{console.log(c)},complete:()=>{console.log("done")}})}notify(){this.notifyService.success("Success","Role permission created successfully",this.modalOptions)}getParentCode(){for(let t=0;t<this.listData.length;t++)null==this.listData[t].parentCode&&this.listParent.push(this.listData[t])}getChildCode(){for(let t=0;t<this.listData.length;t++)null!=this.listData[t].parentCode&&this.listChild.push(this.listData[t])}checkedAll(t,n){console.log(n),this.listChild.forEach(o=>{if(o.parentCode===this.listParent[t].code){if(o.isChecked=n,!0===o.isChecked&&-1===this.listId.indexOf(o.id))this.listId.push(o.id);else{if(!0===o.isChecked&&-1!==this.listId.indexOf(o.id))return;this.listId=[]}console.log(this.listId)}})}rolePerChecked(){setTimeout(()=>{for(let t=0;t<this.listRolePer.length;t++)for(let n=0;n<this.listData.length;n++)this.listRolePer[t].permissionId===this.listData[n].id&&(this.listData[n].isChecked=!0)},100)}isChecked(t,n){this.listChild[n].isChecked=t,this.checkIntoArr(n),console.log(this.listId)}checkIntoArr(t){let n=this.listChild[t];if(!0===n.isChecked&&-1===this.listId.indexOf(n.id))this.listId.push(n.id);else{let o=this.listId.indexOf(n.id);console.log(o),o>-1&&this.listId.splice(o,1)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.G),e.Y36(f.y),e.Y36(h.gz),e.Y36(m.zb))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-role-app-detail"]],decls:4,vars:1,consts:[[1,"role-detail-wrapper"],["class","collapse-wrapper",4,"ngFor","ngForOf"],["nz-button","",3,"click"],[1,"collapse-wrapper"],["nzActive","true",3,"nzHeader"],[1,"checkUncheck"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-row",""],["class","my-2","style","width: 50%",3,"hidden",4,"ngFor","ngForOf"],[1,"my-2",2,"width","50%",3,"hidden"],["nz-checkbox","","style","line-height: 1.5",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","",2,"line-height","1.5",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Q,8,3,"div",1),e.TgZ(2,"button",2),e.NdJ("click",function(){return n.onCreate()}),e._uU(3,"Save"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.listParent))},dependencies:[p.sg,p.O5,x.ix,P.w,R.dQ,S.Ie,y.SK,w.Zv,w.yH,r.JJ,r.On],styles:["*[_ngcontent-%COMP%]{font-size:16px}  .ant-collapse-arrow svg{margin-bottom:5px}.role-detail-wrapper[_ngcontent-%COMP%]{padding:40px}.role-detail-wrapper[_ngcontent-%COMP%]   .collapse-wrapper[_ngcontent-%COMP%]{margin:30px 0}.role-detail-wrapper[_ngcontent-%COMP%]   .collapse-wrapper[_ngcontent-%COMP%]   .checkUncheck[_ngcontent-%COMP%]{display:flex;justify-content:end;margin-bottom:5px}.role-detail-wrapper[_ngcontent-%COMP%]   .collapse-wrapper[_ngcontent-%COMP%]   .checkUncheck[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:.3s all ease-in-out}.role-detail-wrapper[_ngcontent-%COMP%]   .collapse-wrapper[_ngcontent-%COMP%]   .checkUncheck[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#f48120;transition:.3s all ease-in-out}"]}),i})();var z=a(338),b=a(7957),M=a(4546);function G(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",5)(1,"button",6),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleOk())}),e._uU(2," X\xf3a "),e.qZA(),e.TgZ(3,"button",7),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleCancel())}),e._uU(4,"H\u1ee7y"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("nzLoading",t.isConfirmLoading)}}let O=(()=>{class i{constructor(t){this.modalRef=t,this.isVisible=!1,this.isConfirmLoading=!1}ngOnInit(){this.data="B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a ????"}handleOk(){this.isConfirmLoading=!0,this.modalRef.close(!0)}handleCancel(){this.isVisible=!1,this.modalRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.Lf))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-delete"]],inputs:{title:"title",data:"data"},decls:7,vars:1,consts:[[1,"modal-content"],["nz-form",""],[1,"flex","flex-row"],["nz-col","",1,"text-center"],["class","modal-footer",4,"nzModalFooter"],[1,"modal-footer"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-button","","nzType","default",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"p"),e._uU(5),e.qZA()()()(),e.YNc(6,G,5,1,"div",4),e.qZA()),2&t&&(e.xp6(5),e.Oqu(n.data))},dependencies:[x.ix,P.w,R.dQ,b.Uh,y.t3,M.Lr,r._Y,r.JL,r.F],styles:[".modal-content[_ngcontent-%COMP%]{border:none}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.modal-custom[_ngcontent-%COMP%]   .ant-modal-title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700;text-transform:uppercase}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),i})();var J=a(4733),k=a(1047);function V(i,l){1&i&&(e.ynx(0),e._uU(1,"MinLength is 5"),e.BQk())}function Y(i,l){1&i&&(e.ynx(0),e._uU(1,"Input is required"),e.BQk())}function q(i,l){if(1&i&&(e.YNc(0,V,2,0,"ng-container",16),e.YNc(1,Y,2,0,"ng-container",16)),2&i){const t=l.$implicit;e.Q6J("ngIf",t.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",t.hasError("required"))}}function H(i,l){1&i&&(e.ynx(0),e._uU(1,"Input is required"),e.BQk())}function K(i,l){1&i&&e.YNc(0,H,2,0,"ng-container",16),2&i&&e.Q6J("ngIf",l.$implicit.hasError("required"))}function L(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleOk())}),e._uU(2," L\u01b0u "),e.qZA(),e.TgZ(3,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleCancel())}),e._uU(4,"H\u1ee7y"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("hidden","view"===t.mode)("disabled",!t.formValidation.valid)("nzLoading",t.isConfirmLoading)}}let I=(()=>{class i{constructor(t,n,o){this.fb=t,this.roleAppData=n,this.modelRef=o,this.isConfirmLoading=!1,this.checked=!1,this.title="",this.isVisible=!1}get name(){return this.formValidation.get("name")}get code(){return this.formValidation.get("code")}get description(){return this.formValidation.get("description")}ngOnInit(){console.log(this.id),this.formValidation=this.fb.group({id:["",[]],name:["",[r.kI.required,r.kI.minLength(5)]],code:["",[r.kI.required]],description:["",[]]}),this.mode!=z.o.CREATE&&this.id&&this.getById(this.id)}changeChecked(){this.checked=!this.checked}getById(t){this.roleAppData.getById(t).subscribe({next:n=>{console.log(n),this.formValidation.setValue({id:this.id,name:n.data.name,code:n.data.code,description:n.data.description})}})}handleOk(){this.isConfirmLoading=!0;const t=this.formValidation.value;this.mode===z.o.CREATE?this.roleAppData.save(t).subscribe({next:n=>{console.log(n),n&&(this.isVisible=!1,this.isConfirmLoading=!1,this.modelRef.close(n))},error:n=>{console.log(n)},complete:()=>{console.log("done")}}):this.mode===z.o.UPDATE&&this.roleAppData.update(this.id,t).subscribe({next:n=>{console.log(n),n&&(this.isVisible=!1,this.isConfirmLoading=!1,this.modelRef.close(n))},error:n=>{console.log(n)},complete:()=>{console.log("done")}})}handleCancel(){this.isVisible=!1,this.modelRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(J.c),e.Y36(b.Lf))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-role-app-form"]],inputs:{mode:"mode",title:"title",id:"id"},decls:34,vars:24,consts:[[1,"wrapper"],[1,"modal-content"],["nz-form","","method","POST",2,"width","100%",3,"formGroup"],["formControlName","id","name","id","hidden","true"],["nz-row","",1,"d-flex","flex-row",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-row","",3,"nzGutter"],[2,"color","red"],["nz-col","",3,"nzSpan","nzErrorTip"],["nz-input","","placeholder","Name","formControlName","name","name","name","required","",3,"readonly","ngClass"],["Name",""],["nz-input","","placeholder","Code","formControlName","code","name","code",3,"readonly","ngClass"],["Code",""],[3,"nzSpan"],["nz-input","","rows","3","Placeholder","Description","formControlName","description","name","description",3,"readonly","ngClass"],["class","d-flex justify-content-center",4,"nzModalFooter"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["nz-button","","nzType","primary",3,"hidden","disabled","nzLoading","click"],["nz-button","","nzType","default",3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e._UZ(3,"input",3),e.TgZ(4,"div",4)(5,"div",5)(6,"nz-form-item",6)(7,"nz-form-label",5),e._uU(8," Name "),e.TgZ(9,"span",7),e._uU(10,"*"),e.qZA()(),e.TgZ(11,"nz-form-control",8),e._UZ(12,"input",9),e.YNc(13,q,2,2,"ng-template",null,10,e.W1O),e.qZA()()()(),e.TgZ(15,"div",4)(16,"div",5)(17,"nz-form-item",6)(18,"nz-form-label",5),e._uU(19," Code "),e.TgZ(20,"span",7),e._uU(21,"*"),e.qZA()(),e.TgZ(22,"nz-form-control",8),e._UZ(23,"input",11),e.YNc(24,K,1,1,"ng-template",null,12,e.W1O),e.qZA()()()(),e.TgZ(26,"div",4)(27,"div",5)(28,"nz-form-item",6)(29,"nz-form-label",13),e._uU(30," Description "),e.qZA(),e.TgZ(31,"nz-form-control",13),e._UZ(32,"textarea",14),e.qZA()()()()()()(),e.YNc(33,L,5,3,"div",15)),2&t){const o=e.MAs(14),s=e.MAs(25);e.xp6(2),e.Q6J("formGroup",n.formValidation),e.xp6(2),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzGutter",2),e.xp6(1),e.Q6J("nzSpan",3),e.xp6(4),e.Q6J("nzSpan",21)("nzErrorTip",o),e.xp6(1),e.Q6J("readonly","view"===n.mode)("ngClass","view"===n.mode?"ban":""),e.xp6(3),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzGutter",2),e.xp6(1),e.Q6J("nzSpan",3),e.xp6(4),e.Q6J("nzSpan",21)("nzErrorTip",s),e.xp6(1),e.Q6J("readonly","view"===n.mode)("ngClass","view"===n.mode?"ban":""),e.xp6(3),e.Q6J("nzGutter",8),e.xp6(1),e.Q6J("nzSpan",24),e.xp6(1),e.Q6J("nzGutter",2),e.xp6(1),e.Q6J("nzSpan",3),e.xp6(2),e.Q6J("nzSpan",21),e.xp6(1),e.Q6J("readonly","view"===n.mode)("ngClass","view"===n.mode?"ban":"")}},dependencies:[p.mk,p.O5,x.ix,P.w,R.dQ,k.Zp,b.Uh,y.t3,y.SK,M.Lr,M.Nx,M.iK,M.Fd,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u],styles:[".ban[_ngcontent-%COMP%]{cursor:no-drop}.wrapper[_ngcontent-%COMP%]{width:800px;height:calc(100% - 144px);border-radius:3px}.ant-modal-title[_ngcontent-%COMP%]{display:flex;justify-content:center;font-weight:700;text-transform:uppercase}.modal-content[_ngcontent-%COMP%]{display:grid;grid-template-rows:none;border:none}.invalid-data[_ngcontent-%COMP%]{border:1px solid red}"]}),i})();var B=a(5017),A=a(939),j=a(5905),$=a(1711);function W(i,l){1&i&&e._UZ(0,"span",22)}const X=function(i){return["/roles-app/roles-app-detail",i]};function ee(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"label",17),e.NdJ("ngModelChange",function(o){const d=e.CHM(t).index,c=e.oxw(2);return e.KtG(c.isChecked(o,d))}),e.qZA()(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"span",23),e._uU(7),e.qZA()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td",24)(13,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.onView(s))}),e._UZ(14,"i",26),e.qZA(),e.TgZ(15,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.onUpdate(s))}),e._UZ(16,"i",27),e.qZA(),e.TgZ(17,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.onDelete(s.id))}),e._UZ(18,"i",28),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngModel",t.isChecked),e.xp6(2),e.hij(" ",t.id," "),e.xp6(2),e.Q6J("routerLink",e.VKq(6,X,t.id)),e.xp6(1),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.code," "),e.xp6(2),e.hij(" ",t.description," ")}}function te(i,l){if(1&i&&e._uU(0),2&i){const t=e.oxw(2);e.hij("Total Roles: ",t.totalElements,"")}}function ne(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"nz-input-group",6)(5,"input",7),e.NdJ("keyup.enter",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.search())}),e.qZA()(),e.YNc(6,W,1,0,"ng-template",null,8,e.W1O),e.TgZ(8,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onCreate())}),e._uU(9," Add New Role "),e.qZA(),e.TgZ(10,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onDeleteAll(o.listId))}),e._uU(11," Delete Selected "),e.qZA(),e.TgZ(12,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.isCollapsed())}),e._UZ(13,"i",12),e.TgZ(14,"span"),e._uU(15,"Filter"),e.qZA()()(),e.TgZ(16,"div",13),e._UZ(17,"nz-date-picker",14)(18,"nz-date-picker",15),e.qZA(),e.TgZ(19,"nz-table",16)(20,"thead")(21,"tr")(22,"th")(23,"label",17),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.checkedAll(o))}),e.qZA()(),e.TgZ(24,"th"),e._uU(25,"Id"),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Name"),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Code"),e.qZA(),e.TgZ(30,"th"),e._uU(31,"Description"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Action"),e.qZA()()(),e.TgZ(34,"tbody"),e.YNc(35,ee,19,8,"tr",18),e.qZA()(),e.TgZ(36,"div",19)(37,"nz-pagination",20),e.NdJ("nzPageIndexChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changePageNumber(o))})("nzPageSizeChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changePageSize(o))})("nzPageIndexChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.pageNumber=o)})("nzPageSizeChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.pageSize=o)}),e.qZA(),e.YNc(38,te,1,1,"ng-template",null,21,e.W1O),e.qZA()()()()}if(2&i){const t=e.MAs(7),n=e.MAs(39),o=e.oxw();e.xp6(4),e.Q6J("nzSuffix",t),e.xp6(12),e.Q6J("hidden",!o.isCollapse),e.xp6(1),e.Q6J("nzSize","default"),e.xp6(1),e.Q6J("nzSize","default"),e.xp6(1),e.Q6J("nzData",o.listData),e.xp6(4),e.Q6J("ngModel",o.checkedBoxAll),e.xp6(12),e.Q6J("ngForOf",o.listData),e.xp6(2),e.Q6J("nzPageIndex",o.pageNumber)("nzTotal",o.totalElements)("nzPageSize",o.pageSize)("nzShowTotal",n)}}const oe=[{path:"",component:(()=>{class i{constructor(t,n,o,s){this.roleAppData=t,this.modalService=n,this.notifyService=o,this.element=s,this.listId=[],this.searchField=["Name","Email","Advanced Filter"],this.pageNumber=1,this.pageSize=10,this.totalElements=0,this.checkedBoxAll=!1,this.FilterValue="",this.disableRoute=!1,this.isCollapse=!1,this.modalOptions={nzDuration:2e3}}ngOnInit(){this.getRoleApp(),console.log(this.listId)}isCollapsed(){this.isCollapse=!this.isCollapse}search(){const t=this.element.nativeElement.querySelector("#search");""===this.FilterValue?(console.log(this.FilterValue),this.txtSearch=`name.cn.${t.value},`):(console.log(this.FilterValue),this.txtSearch=`${this.FilterValue}.cn.${t.value},`,console.log(this.txtSearch)),this.getRoleApp()}getFilterValue(t){console.log(this.searchField[t]),this.FilterValue=this.searchField[t]}checkedAll(t){console.log(t),this.listData.forEach(n=>{if(n.isChecked=t,!0===n.isChecked&&-1===this.listId.indexOf(n.id))this.listId.push(n.id);else{if(!0===n.isChecked&&-1!==this.listId.indexOf(n.id))return;this.listId=[]}console.log(this.listId)})}isChecked(t,n){this.listData[n].isChecked=t,this.checkIntoArr(n),console.log(this.listId)}checkIntoArr(t){let n=this.listData[t];if(!0===n.isChecked&&-1===this.listId.indexOf(n.id))this.listId.push(n.id);else{let o=this.listId.indexOf(n.id);console.log(o),o>-1&&this.listId.splice(o,1)}}changePageSize(t){this.pageSize=t,this.getRoleApp()}changePageNumber(t){this.pageNumber=t,this.getRoleApp()}getRoleApp(){this.roleAppData.search(this.pageNumber,this.pageSize,this.txtSearch).subscribe({next:t=>{console.log(t),this.listData=t.pagingData.content,this.totalElements=t.pagingData.totalElements,this.totalPages=t.pagingData.totalPages},error:t=>{console.log(t)}})}onCreate(){this.modalService.create({nzTitle:"New Member",nzClassName:"modal-custom",nzContent:I,nzWidth:"modal-custom",nzCentered:!0,nzMaskClosable:!1,nzComponentParams:{mode:z.o.CREATE,title:"Th\xeam y\xeau c\u1ea7u"},nzDirection:"ltr"}).afterClose.subscribe({next:t=>{console.log(t),t&&(this.notifyService.success("Th\xe0nh c\xf4ng","Th\xeam m\u1edbi y\xeau c\u1ea7u",this.modalOptions),this.getRoleApp())},error:t=>{console.log(t)}})}onUpdate(t){this.modalService.create({nzTitle:"Update Member",nzClassName:"modal-custom",nzContent:I,nzWidth:"modal-custom",nzCentered:!0,nzMaskClosable:!1,nzComponentParams:{mode:z.o.UPDATE,id:t.id},nzDirection:"ltr"}).afterClose.subscribe({next:n=>{console.log(n),n&&this.notifyService.success("Th\xe0nh c\xf4ng","Ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u",this.modalOptions),this.getRoleApp()},error:n=>{console.log(n)}})}onView(t){this.modalService.create({nzTitle:"View Member",nzClassName:"modal-custom",nzContent:I,nzWidth:"modal-custom",nzCentered:!0,nzMaskClosable:!1,nzComponentParams:{mode:z.o.VIEW,title:"View Member",id:t.id},nzDirection:"ltr"})}onDelete(t){this.modalService.create({nzTitle:"Delete Member",nzClassName:"modal-custom",nzContent:O,nzCentered:!0,nzMaskClosable:!1,nzDirection:"ltr"}).afterClose.subscribe({next:n=>{console.log(n),n&&this.roleAppData.deleteById(t).subscribe({next:o=>{o&&this.notifyService.success("Th\xe0nh c\xf4ng","X\xf3a y\xeau c\u1ea7u",this.modalOptions),this.getRoleApp()},error:o=>{console.log(o)},complete:()=>{}})},error:n=>{console.log(n)}})}onDeleteAll(t){this.modalService.create({nzTitle:"Delete Selected Member",nzClassName:"modal-custom",nzContent:O,nzCentered:!0,nzMaskClosable:!1,nzDirection:"ltr"}).afterClose.subscribe({next:n=>{console.log(n),n&&this.roleAppData.deleteSelectedId(t).subscribe({next:o=>{o&&this.notifyService.success("Th\xe0nh c\xf4ng","X\xf3a y\xeau c\u1ea7u",this.modalOptions),this.getRoleApp()},error:o=>{console.log(o),console.log(t),console.log(this.listData)},complete:()=>{}})},error:n=>{console.log(n)}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(J.c),e.Y36(b.Sf),e.Y36(m.zb),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-role-application"]],decls:3,vars:1,consts:[["class","member-wrapper",4,"ngIf"],["outlet","outlet"],[1,"member-wrapper"],[1,"container"],[1,"row"],[1,"tool",2,"width","100%","margin-top","1.5em"],[1,"search",3,"nzSuffix"],["id","search","type","text","nz-input","","placeholder","Input search text",3,"keyup.enter"],["suffixIconSearch",""],["nz-button","",1,"ml-auto","mr-2",3,"click"],["nz-button","","nzDanger","",1,"mr-2",3,"click"],["nz-button","",1,"d-flex","align-items-center","mr-2",3,"click"],["nz-icon","","nzType","filter","nzTheme","outline"],[1,"date-picker-custom","mt-3",3,"hidden"],[1,"mr-2",3,"nzSize"],[3,"nzSize"],["nzShowPagination","false",1,"table",2,"width","100%","margin-top","1.5em",3,"nzData"],["nz-checkbox","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"paging"],["nzShowSizeChanger","",3,"nzPageIndex","nzTotal","nzPageSize","nzShowTotal","nzPageIndexChange","nzPageSizeChange"],["total",""],["nz-icon","","nzType","search"],[2,"cursor","pointer",3,"routerLink"],[1,"d-flex","flex-row"],["nz-button","","nzShape","circle",1,"d-flex","align-items-center","justify-content-center","mr-1",3,"click"],["nz-icon","","nzType","eye","nzTheme","outline"],["nz-icon","","nzType","edit","nzTheme","outline"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(t,n){if(1&t&&(e.YNc(0,ne,40,11,"div",0),e._UZ(1,"router-outlet",null,1)),2&t){const o=e.MAs(2);e.Q6J("ngIf",0==o.isActivated)}},dependencies:[p.sg,p.O5,h.lC,h.rH,B.Ls,x.ix,P.w,R.dQ,A.N8,A.Uo,A._C,A.Om,A.p0,A.$Z,j.uw,k.Zp,k.gB,k.ke,$.dE,S.Ie,r.JJ,r.On],styles:[".tool[_ngcontent-%COMP%]{display:flex}.tool[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{width:50%}.paging[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end;padding:2em 0}"]}),i})(),children:[{path:"roles-app-detail/:id",component:E}]}];let ie=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.Bz.forChild(oe),h.Bz]}),i})(),le=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,ie,D.JF,v.v,T.V,r.u5,r.UX]}),i})()},5861:(N,Z,a)=>{function p(v,T,r,h,u,e,_){try{var f=v[e](_),m=f.value}catch(x){return void r(x)}f.done?T(m):Promise.resolve(m).then(h,u)}function D(v){return function(){var T=this,r=arguments;return new Promise(function(h,u){var e=v.apply(T,r);function _(m){p(e,h,u,_,f,"next",m)}function f(m){p(e,h,u,_,f,"throw",m)}_(void 0)})}}a.d(Z,{Z:()=>D})}}]);