<div class="role-detail-wrapper">
  <div
    class="collapse-wrapper"
    *ngFor="let item of listParent; let idx = index"
  >
    <nz-collapse>
      <nz-collapse-panel [nzExtra]="extraTpl" nzHeader="{{ item.code }}" nzActive="true">

        <!-- <div class="checkbox">
          <label *ngFor="let item of listData; let idx = index" nz-checkbox>{{
            item.name
          }}</label>
        </div> -->
        <div nz-row>
          <div
            class="my-2"
            style="width: 50%"
            *ngFor="let child of listChild; let cursor = index"
            [hidden]="child.parentCode !== listParent[idx].code"
          >
            <label
              *ngIf="child.parentCode === listParent[idx].code"
              nz-checkbox
              [(ngModel)]="child.isChecked"
              (ngModelChange)="isChecked($event, cursor)"
              style="line-height: 1.5"
              >{{ child.name }}</label
            >
          </div>
        </div>
      </nz-collapse-panel>
      <ng-template class="checkUncheck" #extraTpl>
        <label
          nz-checkbox
          [ngModel]="checkedBoxAll"
          (ngModelChange)="checkedAll(idx, $event)"
          (click)="$event.stopPropagation()"
        >
          Tích All</label
        >
      </ng-template>
    </nz-collapse>
  </div>

  <a routerLink="/pages/roles-app" class="mr-3">
    <button nz-button>
      <span>Trở lại Roles</span>
    </button>
  </a>

  <button nz-button (click)="onCreate()">Lưu</button>

</div>
